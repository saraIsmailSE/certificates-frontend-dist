{"version":3,"file":"js/7461.f2b32827.js","mappings":"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","sources":["webpack://osboha180/./src/api/questionServices.js","webpack://osboha180/./src/views/Review/Questions/list.vue","webpack://osboha180/./src/views/Review/Questions/list.vue?890b"],"sourcesContent":["import { api } from \"./Intercepter\"\r\nimport userInfoService from \"../services/userInfo.service\";\r\nexport default {\r\n  addQuestion: async (question) => {\r\n  \r\n    const response = await api.post(\"questions\", question)\r\n    return response.data.data\r\n  },\r\n\r\n\r\n  getQuestions: async (id) => {\r\n\r\n    const questions = await api.get(`questions/user-book/${id}`);\r\n\r\n    return questions.data.data;\r\n  },\r\n\r\n  addDegree(id, note, mark) {\r\n    const response = api.patch(`/questions/add-degree/${id}`, {\r\n      auditor_id: userInfoService.getUser().id,\r\n      reviews: note,\r\n      degree: mark\r\n    })\r\n    console.log(response)\r\n    return response;\r\n\r\n  },\r\n  deleteQuestion(id) {\r\n    const response = api.delete(`/questions/${id}`)\r\n    return response;\r\n  },\r\n  getByStatus: async (status) => {\r\n\r\n    const response = await api.get(`questions/status/${status}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n  getByUserBook: async (user_book_id) => {\r\n\r\n    const response = await api.get(`questions/user_book_id/${user_book_id}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n  acceptQuestion(id,status) {\r\n    let questionId, user_book_id=null\r\n    if(status == 'accept'){\r\n      questionId=id\r\n\r\n    }\r\n    else if(status == 'audit'){\r\n      user_book_id=id\r\n    }\r\n\r\n    const response = api.post(\"/questions/review\", {\r\n      id: questionId,\r\n      user_book_id: user_book_id,\r\n      status: status,\r\n      reviewer_id: userInfoService.getUser().id\r\n    })\r\n    return response;\r\n  },\r\n  rejectRetardThesis(id, note,status) {\r\n    const response = api.post(\"/questions/review\", {\r\n      id: id,\r\n      status: status,\r\n      reviewer_id: userInfoService.getUser().id,\r\n      reviews: note\r\n    })\r\n    return response;\r\n  },\r\n\r\n  updateQuestion: async (question, id) => {\r\n    const response = await api.patch(`/questions/${id}`, question, {\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    )\r\n    return response.data.data;\r\n    },\r\n    reviewQuestion: async (id) => {\r\n    const res = await api\r\n      .patch(`/questions/review-question/${id}`)\r\n      .catch((e) => {\r\n        // error = e.response.data.message;\r\n        (e)\r\n      }).then(e => (e));\r\n    // return {data:res.data,error}\r\n  },\r\n  getById: async (id) => {\r\n    const response = await api.get(`questions/${id}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n  getByBook: async (bookID) => {\r\n    const response = await api.get(`questions/book/${bookID}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n\r\n}\r\n\r\n","<template>\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card position-relative inner-page-bg bg-primary\" style=\"height: 150px;\">\n                <div class=\"inner-page-title\">\n                    <h3 class=\"text-white\">مراجعة الأسئلة</h3>\n                    <p class=\"text-white\">تبقى {{totalQuestions}} سؤال </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-sm-12\" v-if=\"questionsToReview.length==0 && questionsToAudit.length ==0\">\n            <iq-card class=\"iq-card\">\n                <div class=\"iq-card-body p-0\">\n                    <div class=\"image-block text-center\">\n                        <img src=\"@/assets/images/export-congrats.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\n                    </div>\n\n                    <h4 class=\"text-center mt-3 mb-3\">لا يوجد أسئلة</h4>\n                </div>\n            </iq-card>\n\n        </div>\n\n        <div class=\"col-sm-12\" v-if=\"questionsToReview.length>0\">\n            <iq-card>\n                <template v-slot:headerTitle>\n                    <h4 class=\"card-title\">أسئلة بحاجة للمراجعة</h4>\n                </template>\n                <template v-slot:body>\n                    <div class=\"table-responsive\">\n                        <table id=\"datatable\" class=\"table table-striped table-bordered\">\n                            <thead>\n                                <tr>\n                                    <th>رقم التوثيق</th>\n                                    <th>اسم السفير</th>\n                                    <th>اسم الكتاب</th>\n                                    <th>عدد الأسئلة</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"question in questionsToReview\" :key=\"question.id\">\n                                    <td class=\" btn-primary text-white bg-primary\">\n                                            {{ question.user_book.id }}\n                                    </td>\n                                    <td>\n                                        <a href=\"javascript:void(0);\" @click=\"listQuestions(question.user_book.id)\">\n                                            {{ question.user_book.user.name }}\n                                        </a>\n\n                                    </td>\n                                    <td>\n                                        {{ question.user_book.book.book_name }}\n                                    </td>\n                                    <td>\n                                        {{ question.user_book.questions.length}}\n                                    </td>\n                                </tr>\n\n                            </tbody>\n                        </table>\n                    </div>\n                </template>\n            </iq-card>\n        </div>\n        <div class=\"col-sm-12\" v-if=\"questionsToAudit.length>0\">\n            <iq-card>\n                <template v-slot:headerTitle>\n                    <h4 class=\"card-title\">أسئلة بحاجة للتدقيق</h4>\n                </template>\n                <template v-slot:body>\n                    <div class=\"table-responsive\">\n                        <table id=\"datatable\" class=\"table table-striped table-bordered\">\n                            <thead>\n                                <tr>\n                                    <th>رقم التوثيق</th>\n                                    <th>اسم السفير</th>\n                                    <th>اسم الكتاب</th>\n                                    <th>عدد الأسئلة</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"question in questionsToAudit\" :key=\"question.id\">\n                                    \n                                    <td class=\" btn-primary text-white bg-primary\">\n                                            {{ question.user_book.id }}\n                                    </td>\n\n                                    <td>\n                                        <a href=\"javascript:void(0);\" @click=\"listQuestions(question.user_book.id)\">\n                                            ***************\n                                        </a>\n\n                                    </td>\n                                    <td>\n                                        {{ question.user_book.book.book_name }}\n                                    </td>\n                                    <td>\n                                        {{ question.user_book.questions.length }} \n                                    </td>\n                                </tr>\n\n                            </tbody>\n                        </table>\n                    </div>\n                </template>\n            </iq-card>\n        </div>\n\n    </div>\n</template>\n<script>\nimport iqCard from '../../../components/custom/cards/iq-card.vue'\nimport UserInfo from \"../../../services/userInfo.service\";\nimport questionServices from '../../../api/questionServices'\n\nexport default {\n    components: { iqCard },\n    name: 'ListQuestions',\n    async created() {\n        if (UserInfo.getRole()[0] === 'reviewer' || UserInfo.getRole()[0] === 'admin') {\n            this.status = \"review\";\n            this.questionsToReview = await this.Questions(this.status)\n        }\n        if (UserInfo.getRole()[0] === 'auditor' || UserInfo.getRole()[0] === 'admin') {\n\n            this.status = \"audit\";\n            this.questionsToAudit = await this.Questions(this.status)\n        }\n    },\n\n    data() {\n        return {\n            questionsToReview: [],\n            questionsToAudit: [],\n            status: '',\n        }\n    },\n    methods: {\n        async Questions(status) {\n            return await questionServices.getByStatus(status);\n        },\n        listQuestions(user_book_id) {\n            this.$router.push({name:'questions.questions', params: { user_book_id: user_book_id } })\n        },\n    },\n    computed: {\n        totalQuestions() {\n            return this.questionsToAudit.length + this.questionsToReview.length;\n        }\n    },\n\n}\n</script>\n","import { render } from \"./list.vue?vue&type=template&id=bddd0960\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\certificates-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["addQuestion","question","api","response","data","getQuestions","id","questions","addDegree","note","mark","auditor_id","userInfoService","reviews","degree","console","log","deleteQuestion","getByStatus","status","getByUserBook","user_book_id","acceptQuestion","questionId","reviewer_id","rejectRetardThesis","updateQuestion","error","reviewQuestion","e","then","getById","getByBook","bookID","class","style","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_5","_toDisplayString","$options","$data","length","_createVNode","_component_iq_card","_hoisted_8","headerTitle","_hoisted_10","body","_hoisted_13","_Fragment","_renderList","key","user_book","href","onClick","user","name","_hoisted_15","book","book_name","_hoisted_17","_hoisted_20","_hoisted_22","components","iqCard","created","UserInfo","Questions","questionsToReview","questionsToAudit","methods","questionServices","listQuestions","this","$router","push","params","computed","totalQuestions","__exports__","render"],"sourceRoot":""}